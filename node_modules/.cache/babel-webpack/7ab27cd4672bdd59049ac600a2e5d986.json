{"ast":null,"code":"import { transferArrayItem } from '@angular/cdk/drag-drop';\nimport { TaskDialogComponent } from './task-dialog/task-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/fire/firestore\";\nimport * as i3 from \"@angular/material/toolbar\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/cdk/drag-drop\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"./task/task.component\";\n\nfunction AppComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"Brak zada\\u0144\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_app_task_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-task\", 12);\n    i0.ɵɵlistener(\"edit\", function AppComponent_app_task_17_Template_app_task_edit_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.editTask(\"todo\", $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const task_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"task\", task_r6);\n  }\n}\n\nfunction AppComponent_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"Brak zada\\u0144\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_app_task_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-task\", 12);\n    i0.ɵɵlistener(\"edit\", function AppComponent_app_task_25_Template_app_task_edit_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.editTask(\"done\", $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const task_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"task\", task_r9);\n  }\n}\n\nconst _c0 = function (a0) {\n  return [a0];\n};\n\nexport class AppComponent {\n  constructor(dialog, store) {\n    this.dialog = dialog;\n    this.store = store;\n    this.todo = this.store.collection('todo').valueChanges({\n      idField: 'id'\n    });\n    this.done = this.store.collection('done').valueChanges({\n      idField: 'id'\n    });\n  }\n\n  newTask() {\n    const dialogRef = this.dialog.open(TaskDialogComponent, {\n      width: '270px',\n      data: {\n        task: {}\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (!result) {\n        return;\n      }\n\n      this.store.collection('todo').add(result.task);\n    });\n  }\n\n  editTask(list, task) {\n    const dialogRef = this.dialog.open(TaskDialogComponent, {\n      width: '270px',\n      data: {\n        task,\n        enableDelete: true\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (!result) {\n        return;\n      }\n\n      if (result.delete) {\n        this.store.collection(list).doc(task.id).delete();\n      } else {\n        this.store.collection(list).doc(task.id).update(task);\n      }\n    });\n  }\n\n  drop(event) {\n    if (event.previousContainer === event.container) {\n      return;\n    }\n\n    if (!event.previousContainer.data || !event.container.data) {\n      return;\n    }\n\n    const item = event.previousContainer.data[event.previousIndex];\n    this.store.firestore.runTransaction(() => {\n      const promise = Promise.all([this.store.collection(event.previousContainer.id).doc(item.id).delete(), this.store.collection(event.container.id).add(item)]);\n      return promise;\n    });\n    transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 26,\n  vars: 14,\n  consts: [[\"color\", \"primary\"], [1, \"content-wrapper\"], [\"mat-button\", \"\", 3, \"click\"], [1, \"container-wrapper\"], [1, \"container\"], [\"cdkDropList\", \"\", \"id\", \"todo\", 1, \"list\", 3, \"cdkDropListData\", \"cdkDropListConnectedTo\", \"cdkDropListDropped\"], [\"todoList\", \"cdkDropList\"], [\"class\", \"empty-label\", 4, \"ngIf\"], [\"cdkDrag\", \"\", 3, \"task\", \"edit\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDropList\", \"\", \"id\", \"done\", 1, \"list\", 3, \"cdkDropListData\", \"cdkDropListConnectedTo\", \"cdkDropListDropped\"], [\"doneList\", \"cdkDropList\"], [1, \"empty-label\"], [\"cdkDrag\", \"\", 3, \"task\", \"edit\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\", 0);\n      i0.ɵɵelementStart(1, \"mat-icon\");\n      i0.ɵɵtext(2, \"local_fire_department\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"span\");\n      i0.ɵɵtext(4, \"Nikos Kacprzak APP\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵelementStart(6, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_6_listener() {\n        return ctx.newTask();\n      });\n      i0.ɵɵelementStart(7, \"mat-icon\");\n      i0.ɵɵtext(8, \"add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9, \" Dodaj nowe zadanie \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 3);\n      i0.ɵɵelementStart(11, \"div\", 4);\n      i0.ɵɵelementStart(12, \"h2\");\n      i0.ɵɵtext(13, \"To Do\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"mat-card\", 5, 6);\n      i0.ɵɵlistener(\"cdkDropListDropped\", function AppComponent_Template_mat_card_cdkDropListDropped_14_listener($event) {\n        return ctx.drop($event);\n      });\n      i0.ɵɵtemplate(16, AppComponent_p_16_Template, 2, 0, \"p\", 7);\n      i0.ɵɵtemplate(17, AppComponent_app_task_17_Template, 1, 1, \"app-task\", 8);\n      i0.ɵɵpipe(18, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 4);\n      i0.ɵɵelementStart(20, \"h2\");\n      i0.ɵɵtext(21, \"Done\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"mat-card\", 9, 10);\n      i0.ɵɵlistener(\"cdkDropListDropped\", function AppComponent_Template_mat_card_cdkDropListDropped_22_listener($event) {\n        return ctx.drop($event);\n      });\n      i0.ɵɵtemplate(24, AppComponent_p_24_Template, 2, 0, \"p\", 7);\n      i0.ɵɵtemplate(25, AppComponent_app_task_25_Template, 1, 1, \"app-task\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(15);\n\n      const _r3 = i0.ɵɵreference(23);\n\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"cdkDropListData\", ctx.todo)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction1(10, _c0, _r3));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.todo.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(18, 8, ctx.todo));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"cdkDropListData\", ctx.done)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction1(12, _c0, _r0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.done.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.done);\n    }\n  },\n  directives: [i3.MatToolbar, i4.MatIcon, i5.MatButton, i6.MatCard, i7.CdkDropList, i8.NgIf, i8.NgForOf, i9.TaskComponent, i7.CdkDrag],\n  pipes: [i8.AsyncPipe],\n  styles: [\"mat-toolbar[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n  }\\n  \\n  mat-toolbar[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\\n    margin-left: 20px;\\n  }\\n  \\n  .content-wrapper[_ngcontent-%COMP%] {\\n    max-width: 1400px;\\n    margin: auto;\\n  }\\n  \\n  .container-wrapper[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-around;\\n  }\\n  \\n  .container[_ngcontent-%COMP%] {\\n    width: 700px;\\n    margin: 0 25px 25px 0;\\n  }\\n  \\n  .list[_ngcontent-%COMP%] {\\n    border: solid 1px #ccc;\\n    min-height: 60px;\\n    border-radius: 4px;\\n  }\\n  \\n  app-new-task[_ngcontent-%COMP%] {\\n    margin-bottom: 30px;\\n  }\\n  \\n  .empty-label[_ngcontent-%COMP%] {\\n    font-size: 2em;\\n    padding-top: 10px;\\n    text-align: center;\\n    opacity: 0.2;\\n  }\\n  \\n  .cdk-drag-animating[_ngcontent-%COMP%] {\\n    transition: transform 250ms;\\n  }\\n  \\n  .cdk-drag-placeholder[_ngcontent-%COMP%] {\\n    opacity: 0;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0UsaUJBQWlCO0lBQ2pCLFlBQVk7RUFDZDs7RUFFQTtJQUNFLGFBQWE7SUFDYiw2QkFBNkI7RUFDL0I7O0VBRUE7SUFDRSxZQUFZO0lBQ1oscUJBQXFCO0VBQ3ZCOztFQUVBO0lBQ0Usc0JBQXNCO0lBQ3RCLGdCQUFnQjtJQUNoQixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSwyQkFBMkI7RUFDN0I7O0VBRUE7SUFDRSxVQUFVO0VBQ1oiLCJmaWxlIjoiYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJtYXQtdG9vbGJhciB7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgfVxuICBcbiAgbWF0LXRvb2xiYXIgPiBzcGFuIHtcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgfVxuICBcbiAgLmNvbnRlbnQtd3JhcHBlciB7XG4gICAgbWF4LXdpZHRoOiAxNDAwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICB9XG4gIFxuICAuY29udGFpbmVyLXdyYXBwZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIH1cbiAgXG4gIC5jb250YWluZXIge1xuICAgIHdpZHRoOiA3MDBweDtcbiAgICBtYXJnaW46IDAgMjVweCAyNXB4IDA7XG4gIH1cbiAgXG4gIC5saXN0IHtcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjY2NjO1xuICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG4gIFxuICBhcHAtbmV3LXRhc2sge1xuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gIH1cbiAgXG4gIC5lbXB0eS1sYWJlbCB7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG9wYWNpdHk6IDAuMjtcbiAgfVxuXG4gIC5jZGstZHJhZy1hbmltYXRpbmcge1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcztcbiAgfVxuICBcbiAgLmNkay1kcmFnLXBsYWNlaG9sZGVyIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9Il19 */\"]\n});","map":{"version":3,"sources":["/Users/kacperwlodarek/Desktop/endikej/endikej-crud/src/app/app.component.ts","/Users/kacperwlodarek/Desktop/endikej/endikej-crud/src/app/app.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component } from '@angular/core';\nimport { Task } from './task/task';\nimport { CdkDragDrop, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { MatDialog } from '@angular/material/dialog';\nimport { TaskDialogResult, TaskDialogComponent } from './task-dialog/task-dialog.component';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  todo = this.store.collection('todo').valueChanges({ idField: 'id' }) as Observable<Task[]>;\n  done = this.store.collection('done').valueChanges({ idField: 'id' }) as Observable<Task[]>;\n\n  constructor(private dialog: MatDialog, private store: AngularFirestore) {}\n\n  newTask(): void {\n    const dialogRef = this.dialog.open(TaskDialogComponent, {\n      width: '270px',\n      data: {\n        task: {},\n      },\n    });\n    dialogRef\n      .afterClosed()\n      .subscribe((result: TaskDialogResult) => {\n        if (!result) {\n          return;\n        }\n        this.store.collection('todo').add(result.task);\n      });\n  }\n\n  editTask(list: 'done' | 'todo', task: Task): void {\n    const dialogRef = this.dialog.open(TaskDialogComponent, {\n      width: '270px',\n      data: {\n        task,\n        enableDelete: true,\n      },\n    });\n    dialogRef.afterClosed().subscribe((result: TaskDialogResult) => {\n      if (!result) {\n        return;\n      }\n      if (result.delete) {\n        this.store.collection(list).doc(task.id).delete();\n      } else {\n        this.store.collection(list).doc(task.id).update(task);\n      }\n    });\n  }\n\n  drop(event: CdkDragDrop<Task[]|null>): void {\n    if (event.previousContainer === event.container) {\n      return;\n    }\n    if (!event.previousContainer.data || !event.container.data) {\n      return;\n    }\n    const item = event.previousContainer.data[event.previousIndex];\n    this.store.firestore.runTransaction(() => {\n      const promise = Promise.all([\n        this.store.collection(event.previousContainer.id).doc(item.id).delete(),\n        this.store.collection(event.container.id).add(item),\n      ]);\n      return promise;\n    });\n    transferArrayItem(\n      event.previousContainer.data,\n      event.container.data,\n      event.previousIndex,\n      event.currentIndex\n    );\n  }\n}","<mat-toolbar color=\"primary\">\n  <mat-icon>local_fire_department</mat-icon>\n  <span>Nikos Kacprzak APP</span>\n</mat-toolbar>\n\n<div class=\"content-wrapper\">\n  <button (click)=\"newTask()\" mat-button>\n    <mat-icon>add</mat-icon> Dodaj nowe zadanie\n  </button>\n\n  <div class=\"container-wrapper\">\n    <div class=\"container\">\n      <h2>To Do</h2>\n\n      <mat-card\n        cdkDropList\n        id=\"todo\"\n        #todoList=\"cdkDropList\"\n        [cdkDropListData]=\"todo\"\n        [cdkDropListConnectedTo]=\"[doneList]\"\n        (cdkDropListDropped)=\"drop($event)\"\n        class=\"list\">\n        <p class=\"empty-label\" *ngIf=\"todo.length === 0\">Brak zadań</p>\n        <app-task (edit)=\"editTask('todo', $event)\" *ngFor=\"let task of todo | async\" cdkDrag [task]=\"task\"></app-task>\n      </mat-card>\n    </div>\n\n\n    <div class=\"container\">\n      <h2>Done</h2>\n\n      <mat-card\n        cdkDropList\n        id=\"done\"\n        #doneList=\"cdkDropList\"\n        [cdkDropListData]=\"done\"\n        [cdkDropListConnectedTo]=\"[todoList]\"\n        (cdkDropListDropped)=\"drop($event)\"\n        class=\"list\">\n        <p class=\"empty-label\" *ngIf=\"done.length === 0\">Brak zadań</p>\n        <app-task (edit)=\"editTask('done', $event)\" *ngFor=\"let task of done\" cdkDrag [task]=\"task\"></app-task>\n      </mat-card>\n    </div>\n  </div>\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}